### 01.IO的基本概述
- IO流概述及其前奏
	* IO流概述
		* IO流用来处理设备之间的数据传输，比如常见存储文件
		* 上传文件和下载文件
- IO流整体学习知识体系
	* A:IO流概述
		* IO流用来处理设备之间的数据传输
		* Java对数据的操作是通过流的方式
		* Java用于操作流的对象都在IO包中
	* B:IO流分类
		* a:按照数据流向
			* 输入流    读入数据
			* 输出流    写出数据
		* b:按照数据类型
			* 字节流
			* 字符流
			* 什么情况下使用哪种流呢?
			* 如果数据所在的文件通过windows自带的记事本打开并能读懂里面的内容，就用字符流。其他用字节流。
			* 如果你什么都不知道，就用字节流
		* c:字节流和字符流
			* 字节流   
				* 字节输入流                InputStream            读
				* 字节输出流                OutputStream         写
			* 字符流
				* 字符输入流                Reader                     读
				* 字符输出流                Writer                      写
			* 上面的4个流对象都是抽象类,我们不能直接使用,我们需要使用子类

### 02.IO流的概念
- Java的IO流是实现输入/输出的基础
    - 它可以方便地实现数据的输入/输出操作，在Java中把不同的输入/输出源抽象表述为"流"。
- 流是一组有顺序的
    - 有起点和终点的字节集合，是对数据传输的总称或抽象。即数据在两设备间的传输称为流，流的本质是数据传输，根据数据传输特性将流抽象为各种类，方便更直观的进行数据操作。
- **流有输入和输出，输入时是流从数据源流向程序。输出时是流从程序传向数据源，而数据源可以是内存，文件，网络或程序等。**

### 03.输入流和输出流
- 根据数据流向不同分为：输入流和输出流。
    > 输入流:只能从中读取数据，而不能向其写入数据。  
    > 输出流：只能向其写入数据，而不能从中读取数据。

### 04.节点流和处理流
- 按照流的角色来分，可以分为节点流和处理流。
    - 可以从/向一个特定的IO设备（如磁盘、网络）读/写数据的流，称为节点流，节点流也被成为低级流。处理流是对一个已存在的流进行连接或封装，通过封装后的流来实现数据读/写功能，处理流也被称为高级流。
    ```java
    //节点流，直接传入的参数是IO设备
    FileInputStream fis = new FileInputStream("test.txt");
    //处理流，直接传入的参数是流对象
    BufferedInputStream bis = new BufferedInputStream(fis);
    ```
    - ![](http://upload-images.jianshu.io/upload_images/3985563-0f64a3fe1a2bf0b9.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)  
- 当使用处理流进行输入/输出时，程序并不会直接连接到实际的数据源，没有和实际的输入/输出节点连接。使用处理流的一个明显好处是，只要使用相同的处理流，程序就可以采用完全相同的输入/输出代码来访问不同的数据源，随着处理流所包装节点流的变化，程序实际所访问的数据源也相应地发生变化。
- 实际上，Java使用处理流来包装节点流是一种典型的装饰器设计模式，通过使用处理流来包装不同的节点流，既可以消除不同节点流的实现差异，也可以提供更方便的方法来完成输入/输出功能。

### 05.字节和字符区别
- 字节流和字符流和用法几乎完全一样，区别在于字节流和字符流所操作的数据单元不同。 
- 字节流和字符流的区别：  
    - 读写单位不同：字节流以字节（8bit）为单位，字符流以字符为单位，根据码表映射字符，一次可能读多个字节。  
    - 处理对象不同：字节流能处理所有类型的数据（如图片、avi等），而字符流只能处理字符类型的数据，比如文本内容。

### 06.什么是字节
- 每个字节\(byte\)有8bit组成，每种数据类型又几个字节组成等。

### 07.什么是字符
- 字符流出现的原因
    - 字符流出现的原因:由于字节流操作中文不是特别方便，所以，java就提供了字符流。
    - 字符流:  字符流 = 字节流 + 编码表
- 字符流的由来：
    - 因为数据编码的不同，而有了对字符进行高效操作的流对象。本质其实就是基于字节流读取时，去查了指定的码表。
- 关于字符
    - 可能代表一个汉字或者英文字母。

### 08.unicode编码
- Java采用unicode编码，2个字节来表示一个字符。
    - Java采用unicode来表示字符，一个中文或英文字符的unicode编码都占2个字节。
    - 但如果采用其他编码方式，一个字符占用的字节数则各不相同。
- 这点与C语言中不同，C语言中采用ASCII。在大多数系统中，一个字符通常占1个字节，但是在0~127整数之间的字符映射，unicode向下兼容ASCII。
- 可能有点晕，举个例子解释下。
    - 例如：Java中的String类是按照unicode进行编码的，当使用String\(byte\[\] bytes, String encoding\)构造字符串时，encoding所指的是bytes中的数据是按照那种方式编码的，而不是最后产生的String是什么编码方式，换句话说，是让系统把bytes中的数据由encoding编码方式转换成unicode编码。
    - 如果不指明，bytes的编码方式将由jdk根据操作系统决定。

### 09.如何获取字节
- `getBytes(String charsetName)`使用指定的编码方式将此String编码为 byte 序列，并将结果存储到一个新的 byte 数组中。如果不指定将使用操作系统默认的编码方式
- 为什么字节和字符长度不同
    - 在 GB 2312 编码或 GBK 编码中，一个英文字母字符存储需要1个字节，一个汉字字符存储需要2个字节。
    - 在UTF-8编码中，一个英文字母字符存储需要1个字节，一个汉字字符储存需要3到4个字节。
    - 在UTF-16编码中，一个英文字母字符存储需要2个字节，一个汉字字符储存需要3到4个字节（Unicode扩展区的一些汉字存储需要4个字节）。
    - 在UTF-32编码中，世界上任何字符的存储都需要4个字节。
- **简单来讲，一个字符表示一个汉字或英文字母，具体字符与字节之间的大小比例视编码情况而定。有时候读取的数据是乱码，就是因为编码方式不一致，需要进行转换，然后再按照unicode进行编码。**

### 10.如何选择流
- 只要是处理纯文本数据，就优先考虑使用字符流。除此之外都使用字节流。

### 11.String中编解码问题
- String(byte[] bytes, String charsetName):通过指定的字符集解码字节数组
- byte[] getBytes(String charsetName):使用指定的字符集合把字符串编码为字节数组
- 编码:把看得懂的变成看不懂的:	String -- byte[]
- 解码:把看不懂的变成看得懂的:	byte[] -- String

### 11.IO流体系图
#### 11.1 按照流向进行划分
- 根据流的流向以及操作的数据单元不同，将流分为了四种类型，每种类型对应一种抽象基类。
    - 这四种抽象基类分别为：InputStream,Reader,OutputStream以及Writer。四种基类下，对应不同的实现类，具有不同的特性。在这些实现类中，又可以分为节点流和处理流。下面就是整个由着四大基类支撑下，整个IO流的框架图。  
      ![](http://upload-images.jianshu.io/upload_images/3985563-38c3ea4562d6dbe3.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)  


#### 11.2 按操作方式分类结构图
- 关于IO流总结如下图所示
  ![image](https://upload-images.jianshu.io/upload_images/4432347-ddbc1b96f5ccb688.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 11.3 按操作对象分类结构图
- 关于IO流总结如下图所示
  ![image](https://upload-images.jianshu.io/upload_images/4432347-1ce768b945041ce8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 12 RandomAccessFile
- RandomAccessFile既可以读取文件内容，也可以向文件输出数据。同时，RandomAccessFile支持“随机访问”的方式，程序快可以直接跳转到文件的任意地方来读写数据
- 由于RandomAccessFile可以自由访问文件的任意位置，**所以如果需要访问文件的部分内容，而不是把文件从头读到尾，使用RandomAccessFile将是更好的选择**
- 与OutputStream、Writer等输出流不同的是，RandomAccessFile允许自由定义文件记录指针，RandomAccessFile可以不从开始的地方开始输出，因此RandomAccessFile可以向已存在的文件后追加内容。**如果程序需要向已存在的文件后追加内容，则应该使用RandomAccessFile。**
- RandomAccessFile的方法虽然多，但它有一个最大的局限，就是只能读写文件，不能读写其他IO节点。
- **RandomAccessFile的一个重要使用场景就是网络请求中的多线程下载及断点续传。**
- **当RandomAccessFile向指定文件中插入内容时，将会覆盖掉原有内容。如果不想覆盖掉，则需要将原有内容先读取出来，然后先把插入内容插入后再把原有内容追加到插入内容后。**

